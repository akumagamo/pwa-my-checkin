<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <video id="video"></video>
    <select id="cams"></select>
    <script>
        let dropDown = document.querySelector('#cams');
        let video = document.querySelector('#video');
        let devices;

        async function init (){
            devices = await navigator.mediaDevices.enumerateDevices();
            for (let idx in devices) {
                const device = devices[idx];
                let entry = document.createElement('option');
                entry.innerText = device.label;
                entry.value = device.deviceId;
                dropDown.append(entry);
            }
        }

        init();

        dropDown.addEventListener('change', async function(e){
            console.info(e, e.currentTarget, e.currentTarget.value);
            stream = await navigator.mediaDevices.getUserMedia({ video:{ deviceId: e.currentTarget.value }});
            video.srcObject = stream;
            video.play();
            console.info('res', video.videoWidth, video.videoHeight);
        })

    </script>
</body>
</html>